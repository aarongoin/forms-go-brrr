var _=Object.defineProperty,ee=Object.defineProperties;var te=Object.getOwnPropertyDescriptors;var w=Object.getOwnPropertySymbols;var $=Object.prototype.hasOwnProperty,D=Object.prototype.propertyIsEnumerable;var B=(t,r,e)=>r in t?_(t,r,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[r]=e,p=(t,r)=>{for(var e in r||(r={}))$.call(r,e)&&B(t,e,r[e]);if(w)for(var e of w(r))D.call(r,e)&&B(t,e,r[e]);return t},d=(t,r)=>ee(t,te(r));var x=(t,r)=>{var e={};for(var n in t)$.call(t,n)&&r.indexOf(n)<0&&(e[n]=t[n]);if(t!=null&&w)for(var n of w(t))r.indexOf(n)<0&&D.call(t,n)&&(e[n]=t[n]);return e};import*as M from"react";import*as L from"react";function C({name:t,label:r,disabled:e,children:n,className:o,hint:a,hintClassName:s}){let l=`${t}-hint`;return L.createElement("fieldset",{disabled:e,className:"df-Fieldset".concat(o?" ":"",o||"")},L.createElement("legend",null,r),n,L.createElement("span",{id:l,className:"df-Fieldset-hint".concat(s?" ":"",s||""),"aria-live":"polite"},a))}import*as K from"react";function T(t){return K.createElement("input",d(p({tabindex:0,"aria-describedby":`${t.name}-hint`},t),{className:"df-Input".concat(t.className?" ":"",t.className||"")}))}import*as R from"react";function G({label:t,name:r,children:e,hint:n,className:o,textClassName:a,hintClassName:s}){let l=`${r}-hint`;return R.createElement("label",{htmlFor:r,className:"df-Label".concat(o?" ":"",o||"")},typeof t=="string"?R.createElement("span",{className:"df-Label-text".concat(a?" ":"",a||"")},t):t,e,R.createElement("span",{id:l,className:"df-Label-hint".concat(s?" ":"",s||""),"aria-live":"polite"},n))}function P({label:t,children:r,className:e}){return R.createElement("label",{className:"df-Label".concat(e?" ":"",e||"")},r,t)}function U(s){var l=s,{type:t,name:r,options:e,label:n,defaultChecked:o}=l,a=x(l,["type","name","options","label","defaultChecked"]);return M.createElement(C,p({label:n,name:r},a),e.map(i=>M.createElement(P,{label:typeof i=="string"?i:i.name},M.createElement(T,{key:typeof i=="string"?i:i.id,type:"checkbox",name:r,value:typeof i=="string"?i:String(i.id),"data-group":r,defaultChecked:o?o.some(typeof i=="string"?F=>F===i:F=>F===i.id):!1}))))}import*as I from"react";import*as A from"react";function j(s){var l=s,{type:t,name:r,options:e,label:n,defaultChecked:o}=l,a=x(l,["type","name","options","label","defaultChecked"]);return A.createElement(C,p({label:n,name:r},a),e.map(i=>A.createElement(P,{label:typeof i=="string"?i:i.name},A.createElement(T,{key:typeof i=="string"?i:i.id,type:"radio",name:r,value:typeof i=="string"?i:String(i.id),"data-group":r,defaultChecked:!!o&&o===(typeof i=="string"?i:i.id)}))))}import*as S from"react";function J(i){var F=i,{options:t,type:r,defaultSelected:e,name:n,renderOption:o,className:a,optionClassName:s}=F,l=x(F,["options","type","defaultSelected","name","renderOption","className","optionClassName"]);let E="df-Select-option".concat(s?" ":"",s||"");return S.createElement("select",d(p({name:n,tabindex:0,"aria-describedby":`${n}-hint`},l),{className:"df-Select".concat(a?" ":"",a||"")}),t.map(m=>S.createElement("option",{key:typeof m=="string"?m:m.id,value:typeof m=="string"?m:m.id,className:E,defaultChecked:!!e&&(l.multiple&&Array.isArray(e)?e.some(typeof m=="string"?f=>f===m:f=>f===m.id):e===(typeof m=="string"?m:m.id))},o?o(m):typeof m=="string"?m:m.name)))}function q(a){var s=a,{type:t,minRows:r=3,autosize:e,className:n}=s,o=x(s,["type","minRows","autosize","className"]);return React.createElement("textarea",d(p({},o),{onInput:e?l=>{let i=l.target;setTimeout(()=>{i.style.height="auto",i.style.height=`${i.scrollHeight}px`},0)}:void 0,className:"df-Textarea".concat(n?" ":"",n||""),rows:r}))}var re=["radio","checkbox"];function Oe(t){if(t.type==="checkboxes")return I.createElement(U,p({},t));if(t.type==="radiogroup")return I.createElement(j,p({},t));let l=t,{label:r,hint:e,className:n,inputClassName:o}=l,a=x(l,["label","hint","className","inputClassName"]),s=re.includes(t.type)?P:G;return I.createElement(s,{label:r,name:a.name,hint:e,className:n},t.type==="select"?I.createElement(J,d(p({},t),{className:o})):t.type==="textarea"?I.createElement(q,d(p({},t),{className:o})):I.createElement(T,d(p({},t),{className:o})))}import*as X from"react";function k(t){return t.tagName==="INPUT"}function V(t){return t.tagName==="SELECT"}function b(t){return t.tagName==="TEXTAREA"}function v(t,r){var o;let e=t.elements.namedItem(r);if(!e)throw new Error(`Cannot find field with name ${r}`);if("length"in e&&e.length){let a=Array.from(e);if(a[0].type==="radio")return(o=Array.from(a).find(s=>s.checked))==null?void 0:o.value;if(a[0].type==="checkbox")return Array.from(a).map(s=>s.checked?s.value:null).filter(Boolean);throw new Error(`Unexpected collection found in field name ${r}. Found type of ${a[0].type}`)}let n=e;return V(n)?n.multiple?Array.from(n.selectedOptions).map(a=>a.value):n.value:k(n)?n.type==="file"?n.files:n.type==="email"&&n.multiple?n.value.split(/\s*,\s*/):n.type==="checkbox"&&n.dataset.group!==n.name||n.type==="radio"?n.checked:n.value:b(n)?n.value:null}var W=t=>new FormData(t);function c(t,r,e){t[r]?(Array.isArray(t[r])||(t[r]=[t[r]]),t[r].push(e)):t[r]=e}var z=t=>{let r={};for(let e of Array.from(t.elements)){if(k(e))switch(e.type){case"number":case"range":c(r,e.name,+e.value);continue;case"radio":!e.checked&&!r[e.name]&&c(r,e.name,null),e.checked&&c(r,e.name,e.value);continue;case"checkbox":e.dataset.group!==e.name?c(r,e.name,!!e.checked):!e.checked&&!r[e.name]?c(r,e.name,[]):e.checked&&c(r,e.name,e.value);continue;case"email":e.multiple?c(r,e.name,e.value.split(/\s*,\s*/)):c(r,e.name,e.value);continue;case"file":c(r,e.name,e.files);default:c(r,e.name,e.value);continue}V(e)&&(e.multiple?c(r,e.name,Array.from(e.selectedOptions).map(n=>n.value)):c(r,e.name,e.value)),b(e)&&c(r,e.name,e.value)}return r};function N(t,r,e){let n=t.elements.namedItem(r);if(!n)throw new Error(`Cannot find field with name ${r}`);let o="length"in n&&n.length?n.item(0):n;o.setCustomValidity(e);let a=o.closest(`.${r}-hint`);a&&(a.textContent=e)}function O(t,r,e){let n=t.elements.namedItem(r);if(!n)throw new Error(`Cannot find field with name ${r}`);if("length"in n&&n.length){let a=Array.from(n);if(a[0].type==="radio"){a.forEach(s=>{s.checked=s.value===e});return}if(a[0].type==="checkbox"){a.forEach(Array.isArray(e)?s=>{s.checked=e.includes(s.value)}:s=>{s.checked=s.value===e});return}throw new Error(`Unexpected collection found in field name ${r}. Found type of ${a[0].type}`)}let o=n;if(V(o)){if(o.multiple){Array.from(o.selectedOptions).forEach(Array.isArray(e)?a=>{a.selected=e.includes(a.value)}:a=>{a.selected=a.value===e});return}o.value=`${e}`;return}if(k(o)){if(o.type==="email"&&o.multiple&&Array.isArray(e)){o.value=e.join(",");return}if(o.type==="checkbox"&&o.dataset.group!==o.name){o.checked=!!e;return}if(o.type==="radio"){o.checked=!!e;return}o.value=`${e}`;return}if(b(o)){o.value=`${e}`;return}throw new Error(`Unexpected element found in field name ${r}. Found type of ${o.type}`)}function nt(F){var E=F,{dialog:t,method:r="post",action:e,submitFormData:n,submitJson:o,onChange:a,onBlur:s,className:l}=E,i=x(E,["dialog","method","action","submitFormData","submitJson","onChange","onBlur","className"]);if(!n&&!o)throw new Error("Must supply a submit method prop of either `submitFormData` or `submitJson`.");let m={};return a&&(m.onChange=f=>{let y=f.target.form,h=a(u=>v(y,u),(u,H)=>O(y,u,H));if(h)for(let u of Object.keys(h))N(y,u,h[u])}),s&&(m.onBlur=f=>{let y=f.target.form,h=s(u=>v(y,u),(u,H)=>O(y,u,H));if(h)for(let u of Object.keys(h))N(y,u,h[u])}),X.createElement("form",d(p(d(p({},i),{className:"df-Form".concat(l?" ":"",l||""),noValidate:typeof window<"u",method:t?"dialog":r,action:e}),m),{onSubmit:f=>{let y=f.target;t||f.preventDefault(),y.reportValidity()&&(n?n(W(y)):o(z(y))).then(h=>{if(!!h)for(let u of Object.keys(h))N(y,u,h[u])})}}))}var g={badinput:"Value is invalid.",required:"This field is required.",minlength:"Text is too short.",maxlength:"Text is too long.",pattern:"Value is invalid.",min:"Value is too low.",max:"Value is high.",step:"Value is invalid.",email:"Value is invalid.",url:"Value is invalid."};function ht(t){g=p(p({},g),t)}function Q(t){if(t.validity.badInput)return g.badinput;if(t.validity.valueMissing)return g.required;if(V(t))return"";if(t.validity.tooShort)return g.minlength;if(t.validity.tooLong)return g.maxlength;if(b(t))return"";if(t.validity.patternMismatch)return g.pattern;if(t.validity.rangeUnderflow)return g.min;if(t.validity.rangeOverflow)return g.max;if(t.validity.stepMismatch)return g.step;if(t.validity.typeMismatch){if(t.type==="email")return g.email;if(t.type==="url")return g.url}return""}import*as Y from"react";function Z(t){return(r,e)=>{let n=Array.isArray(e)?e:[e];return function(a){return Y.createElement(r,d(p({},a),{[t]:s=>{var E;let l=s.target,i=l.checkValidity()?"":Q(l);if(!i){let m=v(l.form,l.name);for(let f of n)if(i=f(m),i)break}l.setCustomValidity(i);let F=l.closest(`.${l.name}-hint`);return F&&(F.textContent=i),(E=a[t])==null?void 0:E.call(a,s)}}))}}}var It=Z("onChange"),Tt=Z("onBlur");export{U as Checkboxes,Oe as Field,C as Fieldset,nt as Form,P as InlineLabel,T as Input,G as Label,j as RadioGroup,J as Select,q as Textarea,Q as getErrorMessage,v as getFieldValue,W as getFormValuesAsFormData,z as getFormValuesAsJson,k as isInputElement,V as isSelectElement,b as isTextareaElement,ht as setErrorMessages,O as setFieldValue,Z as withValidation,Tt as withValidationOnBlur,It as withValidationOnChange};
