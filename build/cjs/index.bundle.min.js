"use strict";var pe=Object.create;var v=Object.defineProperty,me=Object.defineProperties,ue=Object.getOwnPropertyDescriptor,de=Object.getOwnPropertyDescriptors,ce=Object.getOwnPropertyNames,A=Object.getOwnPropertySymbols,fe=Object.getPrototypeOf,D=Object.prototype.hasOwnProperty,re=Object.prototype.propertyIsEnumerable;var te=(t,r,e)=>r in t?v(t,r,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[r]=e,s=(t,r)=>{for(var e in r||={})D.call(r,e)&&te(t,e,r[e]);if(A)for(var e of A(r))re.call(r,e)&&te(t,e,r[e]);return t},d=(t,r)=>me(t,de(r));var p=(t,r)=>{var e={};for(var n in t)D.call(t,n)&&r.indexOf(n)<0&&(e[n]=t[n]);if(t!=null&&A)for(var n of A(t))r.indexOf(n)<0&&re.call(t,n)&&(e[n]=t[n]);return e};var ye=(t,r)=>{for(var e in r)v(t,e,{get:r[e],enumerable:!0})},ne=(t,r,e,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let o of ce(r))!D.call(t,o)&&o!==e&&v(t,o,{get:()=>r[o],enumerable:!(n=ue(r,o))||n.enumerable});return t};var F=(t,r,e)=>(e=t!=null?pe(fe(t)):{},ne(r||!t||!t.__esModule?v(e,"default",{value:t,enumerable:!0}):e,t)),Fe=t=>ne(v({},"__esModule",{value:!0}),t);var Pe={};ye(Pe,{Checkboxes:()=>G,Field:()=>Ee,Fieldset:()=>R,Form:()=>Ve,InlineLabel:()=>E,Input:()=>h,Label:()=>K,RadioGroup:()=>U,Select:()=>q,Submit:()=>Te,Textarea:()=>_,getErrorMessage:()=>J,getFormFieldValue:()=>T,getFormValuesAsFormData:()=>z,getFormValuesAsJson:()=>X,isFormElement:()=>j,isInputElement:()=>V,isSelectElement:()=>x,isTextareaElement:()=>g,setDefaultErrorMessages:()=>xe,setFormFieldValue:()=>M,validateForm:()=>Y,validationEffectHandler:()=>B,withValidation:()=>Q,withValidationOnBlur:()=>be,withValidationOnChange:()=>ge,wrapWithFieldValidation:()=>k});module.exports=Fe(Pe);var S=F(require("react"));var O=F(require("react"));function R(m){var l=m,{name:t,label:r,children:e,className:n,hint:o,hintClassName:a}=l,i=p(l,["name","label","children","className","hint","hintClassName"]);let c=`${t}-hint`;return O.createElement("fieldset",d(s({},i),{className:"fgb-Fieldset".concat(n?" ":"",n||"")}),O.createElement("legend",null,r),e,O.createElement("span",{id:c,className:"fgb-Fieldset-hint".concat(a?" ":"",a||""),"aria-live":"polite","data-hint":o},o))}var oe=F(require("react"));function h(t){return oe.createElement("input",d(s({tabIndex:0},t),{"aria-describedby":`${t.name}-hint`,className:"fgb-Input".concat(t.className?" ":"",t.className||"")}))}var L=F(require("react"));function K(l){var c=l,{label:t,name:r,children:e,hint:n,textClassName:o,hintClassName:a,className:i}=c,m=p(c,["label","name","children","hint","textClassName","hintClassName","className"]);let H=`${r}-hint`;return L.createElement("label",d(s({htmlFor:r},m),{className:"fgb-Label".concat(i?" ":"",i||"")}),typeof t=="string"?L.createElement("span",{className:"fgb-Label-text".concat(o?" ":"",o||"")},t):t,e,L.createElement("span",{id:H,className:"fgb-Label-hint".concat(a?" ":"",a||""),"aria-live":"polite","data-hint":n},n))}function E({label:t,children:r,className:e}){return L.createElement("label",{className:"fgb-InlineLabel".concat(e?" ":"",e||"")},r,t)}function G(i){var m=i,{type:t,name:r,options:e,label:n,defaultChecked:o}=m,a=p(m,["type","name","options","label","defaultChecked"]);return S.createElement(R,s({label:n,name:r},a),e.map(l=>S.createElement(E,{label:typeof l=="string"?l:l.label},S.createElement(h,{key:typeof l=="string"?l:l.value,type:"checkbox",name:r,value:typeof l=="string"?l:String(l.value),"data-group":r,defaultChecked:o?o.some(typeof l=="string"?c=>c===l:c=>c===l.value):!1}))))}var P=F(require("react"));var N=F(require("react"));function U(i){var m=i,{type:t,name:r,options:e,label:n,defaultChecked:o}=m,a=p(m,["type","name","options","label","defaultChecked"]);return N.createElement(R,s({label:n,name:r},a),e.map(l=>N.createElement(E,{label:typeof l=="string"?l:l.label},N.createElement(h,{key:typeof l=="string"?l:l.value,type:"radio",name:r,value:typeof l=="string"?l:String(l.value),"data-group":r,defaultChecked:!!o&&o===(typeof l=="string"?l:l.value)}))))}var W=F(require("react"));function q(l){var c=l,{options:t,type:r,defaultSelected:e,name:n,renderOption:o,className:a,optionClassName:i}=c,m=p(c,["options","type","defaultSelected","name","renderOption","className","optionClassName"]);let H="fgb-Field-option".concat(i?" ":"",i||"");return W.createElement("select",d(s({name:n,tabIndex:0,"aria-describedby":`${n}-hint`},m),{className:"fgb-Select".concat(a?" ":"",a||"")}),t.map(u=>W.createElement("option",{key:typeof u=="string"?u:u.id,value:typeof u=="string"?u:u.id,className:H,defaultChecked:!!e&&(m.multiple&&Array.isArray(e)?e.some(typeof u=="string"?I=>I===u:I=>I===u.id):e===(typeof u=="string"?u:u.id))},o?o(u):typeof u=="string"?u:u.name)))}var ae=F(require("react"));function _(a){var i=a,{type:t,minRows:r=3,autosize:e,className:n}=i,o=p(i,["type","minRows","autosize","className"]);return ae.createElement("textarea",d(s({},o),{onInput:e?m=>{let l=m.target;setTimeout(()=>{l.style.height="auto",l.style.height=`${l.scrollHeight}px`},0)}:void 0,className:"fgb-Textarea".concat(n?" ":"",n||""),rows:r}))}function j(t){return t.tagName==="FORM"}function V(t){return t.tagName==="INPUT"}function x(t){return t.tagName==="SELECT"}function g(t){return t.tagName==="TEXTAREA"}var y={badInput:"Malformed input.",required:"Required.",minLength:"Too short.",maxLength:"Too long.",pattern:"Invalid value.",min:"Too low.",max:"Too high.",step:"Off-step.",email:"Invalid email address.",url:"Invalid url."};function xe(t){y=s(s({},y),t)}function J(t){if(t.validity.badInput)return y.badInput;if(t.validity.valueMissing)return y.required;if(x(t))return"";if(t.validity.tooShort)return y.minLength;if(t.validity.tooLong)return y.maxLength;if(g(t))return"";if(t.validity.patternMismatch)return y.pattern;if(t.validity.rangeUnderflow)return y.min;if(t.validity.rangeOverflow)return y.max;if(t.validity.stepMismatch)return y.step;if(t.validity.typeMismatch){if(t.type==="email")return y.email;if(t.type==="url")return y.url}return""}function T(t,r){var o;let e=t.elements.namedItem(r);if(!e)throw new Error(`Cannot find field with name ${r}`);if("length"in e&&e.length){let a=Array.from(e);if(a[0].type==="radio")return(o=Array.from(a).find(i=>i.checked))==null?void 0:o.value;if(a[0].type==="checkbox")return Array.from(a).map(i=>i.checked?i.value:null).filter(Boolean);throw new Error(`Unexpected collection found in field name ${r}. Found type of ${a[0].type}`)}let n=e;if(x(n))return n.multiple?Array.from(n.selectedOptions).map(a=>a.value):n.value;if(V(n))return n.type==="file"?n.files:n.type==="email"&&n.multiple?n.value.split(/\s*,\s*/):n.type==="checkbox"&&n.dataset.group!==n.name||n.type==="radio"?n.checked:n.value;if(g(n))return n.value;throw new Error(`Unexpected element found in field name ${r}. Found ${n.tagName}`)}function M(t,r,e){let n=t.elements.namedItem(r);if(!n)throw new Error(`Cannot find field with name ${r}`);if("length"in n&&n.length){let a=Array.from(n);if(a[0].type==="radio"){a.forEach(i=>{i.checked=i.value===e});return}if(a[0].type==="checkbox"){a.forEach(Array.isArray(e)?i=>{i.checked=e.includes(i.value)}:i=>{i.checked=i.value===e});return}throw new Error(`Unexpected collection found in field name ${r}. Found type of ${a[0].type}`)}let o=n;if(x(o)){if(o.multiple){Array.from(o.selectedOptions).forEach(Array.isArray(e)?a=>{a.selected=e.includes(a.value)}:a=>{a.selected=a.value===e});return}o.value=`${e}`;return}if(V(o)){if(o.type==="email"&&o.multiple&&Array.isArray(e)){o.value=e.join(",");return}if(o.type==="checkbox"&&o.dataset.group!==o.name){o.checked=!!e;return}if(o.type==="radio"){o.checked=!!e;return}o.value=`${e}`;return}if(g(o)){o.value=`${e}`;return}throw new Error(`Unexpected element found in field name ${r}. Found type of ${o.type}`)}var z=t=>new FormData(t);function f(t,r,e){t[r]?(Array.isArray(t[r])||(t[r]=[t[r]]),t[r].push(e)):t[r]=e}var X=t=>{let r={};for(let e of Array.from(t.elements)){if(V(e))switch(e.type){case"number":case"range":f(r,e.name,+e.value);continue;case"radio":!e.checked&&!r[e.name]&&f(r,e.name,null),e.checked&&f(r,e.name,e.value);continue;case"checkbox":e.dataset.group!==e.name?f(r,e.name,!!e.checked):!e.checked&&!r[e.name]?f(r,e.name,[]):e.checked&&f(r,e.name,e.value);continue;case"email":e.multiple?f(r,e.name,e.value.split(/\s*,\s*/)):f(r,e.name,e.value);continue;case"file":f(r,e.name,e.files);default:f(r,e.name,e.value);continue}x(e)&&(e.multiple?f(r,e.name,Array.from(e.selectedOptions).map(n=>n.value)):f(r,e.name,e.value)),g(e)&&f(r,e.name,e.value)}return r};var ie=F(require("react"));function b(t,r,e){var i;let n=t.elements.namedItem(r);if(!n)throw new Error(`Cannot find field with name ${r}`);let o="length"in n&&n.length?n.item(0):n;o.setCustomValidity(e);let a=(i=o.closest(".fgb-Label, .fgb-Fieldset"))==null?void 0:i.querySelector(`#${o.name}-hint`);a&&(a.textContent=e||a.dataset.hint||"")}function k(t,r,e){let n=o=>{let a=o.validity.valid?"":J(o),i=T(o.form,o.name);return a=r(i)||a,b(o.form,o.name,a),!!a};return{[t]:o=>(n(o.target),e==null?void 0:e(o)),onInvalid:o=>{n(o.target)&&o.preventDefault()}}}function Q(t){return(r,e)=>{let n=Array.isArray(e)?e:[e];return function(m){var l=m,{validators:a}=l,i=p(l,["validators"]);return ie.createElement(r,s(s({},i),k(t,a?n.concat(a):n,i[t])))}}}var ge=Q("onChange"),be=Q("onBlur");function Y(t,r){let e=!0,n=r==null?void 0:r(o=>T(t,o),(o,a)=>M(t,o,a));for(let o of Array.from(t.elements)){if(!o.name)continue;let a=(n==null?void 0:n[o.name])||"",i=o.dispatchEvent(new Event("invalid",{cancelable:!0}))&&!a;(i||a)&&b(t,o.name,a),i||(e=!1)}return e}function B(t,r){return e=>{let n=j(e.target)?e.target:"form"in e.target?e.target.form:null;if(!n)throw new Error("Expected to find a form element attached to wrapped event target.");let o=t(a=>T(n,a),(a,i)=>M(n,a,i));if(o)for(let a of Object.keys(o))b(n,a,o[a]);return r==null?void 0:r(e)}}var he=["radio","checkbox"];function Ee(t){let r=t.validateOnChange||t.validateOnBlur?k(t.validateOnChange?"onChange":"onBlur",t.validateOnChange||t.validateOnBlur,t[t.validateOnChange?"onChange":"onBlur"]):null;if(t.type==="checkboxes")return P.createElement(G,s(s({},t),r));if(t.type==="radiogroup")return P.createElement(U,s(s({},t),r));let l=t,{label:e,hint:n,className:o,inputClassName:a}=l,i=p(l,["label","hint","className","inputClassName"]),m=he.includes(i.type)?E:K;return P.createElement(m,{label:e,name:i.name,hint:n,className:o},i.type==="select"?P.createElement(q,s(d(s({},i),{className:a}),r)):i.type==="textarea"?P.createElement(_,s(d(s({},i),{className:a}),r)):P.createElement(h,s(d(s({},i),{className:a}),r)))}var le=F(require("react"));function Ve(H){var u=H,{dialog:t,method:r="post",action:e,submitFormData:n,submitJson:o,validateOnBlur:a,validateOnChange:i,className:m,autoComplete:l=!1}=u,c=p(u,["dialog","method","action","submitFormData","submitJson","validateOnBlur","validateOnChange","className","autoComplete"]);if(!n&&!o)throw new Error("Must supply a submit method prop of either `submitFormData` or `submitJson`.");return le.createElement("form",d(s({},c),{className:"fgb-Form".concat(m?" ":"",m||""),noValidate:typeof window!==void 0,autoComplete:l?"on":"off",method:t?"dialog":r,action:e,onChange:i?B(i,c.onChange):void 0,onBlur:a?B(a,c.onBlur):void 0,onSubmit:I=>{let w=I.target;if(I.preventDefault(),Y(w,i||a||void 0)){let C=n?n(z(w)):o(X(w));(C&&C instanceof Promise?C:Promise.resolve(C)).then($=>{if(!!$)for(let ee of Object.keys($))b(w,ee,$[ee])})}}}))}var se=F(require("react"));function Z(t){var r;for(let e of Array.from(t.elements)){if(!e.name)continue;if(((r=e.closest(".fgb-Label, .fgb-Fieldset"))==null?void 0:r.querySelector(`#${e.name}-hint`)).textContent)return!1}return!0}function Te(e){var n=e,{validate:t}=n,r=p(n,["validate"]);return se.createElement("button",d(s({},r),{type:"submit",ref:o=>{o&&o.form&&(o.disabled=!Z(o.form),o.form.addEventListener(t==="onChange"?"input":"change",a=>{o.disabled=!Z(o.form)}))}}))}0&&(module.exports={Checkboxes,Field,Fieldset,Form,InlineLabel,Input,Label,RadioGroup,Select,Submit,Textarea,getErrorMessage,getFormFieldValue,getFormValuesAsFormData,getFormValuesAsJson,isFormElement,isInputElement,isSelectElement,isTextareaElement,setDefaultErrorMessages,setFormFieldValue,validateForm,validationEffectHandler,withValidation,withValidationOnBlur,withValidationOnChange,wrapWithFieldValidation});
